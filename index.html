<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Alibaug Trip Feedback</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(135deg, #2193b0, #6dd5ed);
  font-family: 'Segoe UI', sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
}

.app {
  background: white;
  width: 360px;
  padding: 25px;
  border-radius: 16px;
  text-align: center;
  box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}

.subtitle {
  color: #666;
}

.option {
  background: #f2f2f2;
  padding: 12px;
  margin-top: 12px;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.2s;
}

.option:hover {
  background: #dbeafe;
}

.option.selected {
  background: #2563eb;
  color: white;
}

textarea {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 10px;
  border: 1px solid #ccc;
  resize: none;
}

button {
  width: 100%;
  padding: 12px;
  margin-top: 20px;
  border: none;
  border-radius: 10px;
  background: #2563eb;
  color: white;
  font-size: 16px;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="app">
  <h1>ğŸ– Alibaug Trip Feedback</h1>
  <p class="subtitle">Quick, fun & honest ğŸ˜„</p>

  <div id="card"></div>

  <button id="nextBtn">Next â†’</button>
</div>

<script>
// QUESTIONS ARRAY
const questions = [
  {
    key: "overall",
    text: "How was the overall trip?",
    options: ["ğŸ”¥ Mast", "ğŸ™‚ Good", "ğŸ˜ Okay", "ğŸ˜µ Never again"]
  },
  {
    key: "travel",
    text: "Travel experience in the traveller?",
    options: ["ğŸšŒ Comfortable", "ğŸ‘ Fine", "ğŸ˜¬ Tiring"]
  },
  {
    key: "camping",
    text: "Night camping experience?",
    options: ["ğŸ”¥ Highlight", "ğŸ™‚ Nice", "ğŸ˜… Not my thing"]
  }
];

// VARIABLES
let current = 0;
let answers = {};

const card = document.getElementById("card");
const nextBtn = document.getElementById("nextBtn");

// INITIAL RENDER
renderQuestion();

// FUNCTION TO RENDER QUESTION
function renderQuestion() {
  const q = questions[current];
  card.innerHTML = `<h3>${q.text}</h3>`;

  q.options.forEach(opt => {
    const div = document.createElement("div");
    div.className = "option";
    div.innerText = opt;

    div.onclick = () => {
      document
        .querySelectorAll(".option")
        .forEach(o => o.classList.remove("selected"));

      div.classList.add("selected");
      answers[q.key] = opt;
    };

    card.appendChild(div);
  });
}

// NEXT BUTTON CLICK
nextBtn.onclick = () => {
  if (!answers[questions[current].key]) return;

  current++;
  if (current < questions.length) {
    renderQuestion();
  } else {
    showTextQuestions();
  }
};

// SHOW TEXT QUESTIONS
function showTextQuestions() {
  card.innerHTML = `
    <h3>What did you enjoy the most?</h3>
    <textarea id="favorite" rows="3" placeholder="Your favorite moments..."></textarea>

    <h3>What can we improve?</h3>
    <textarea id="improve" rows="3" placeholder="Your suggestions..."></textarea>
  `;
  nextBtn.innerText = "Submit ğŸš€";
  nextBtn.onclick = submitData;
}

// GOOGLE SHEETS WEB APP URL
const API_URL = "https://script.google.com/macros/s/AKfycbwco6Hcgyz6r0JdWBv8PZcDtoC1JdUkbAjZqnoKTDiyz4FAZIU0nWNVFpYqIRRFMr7nTA/exec"; // <-- Replace with your URL

// SUBMIT DATA TO GOOGLE SHEETS
function submitData() {
  answers.favorite = document.getElementById("favorite").value;
  answers.improve = document.getElementById("improve").value;

  fetch(API_URL, {
    method: "POST",
    body: JSON.stringify(answers)
  })
  .then(() => {
    card.innerHTML = "<h2>ğŸ‰ Feedback saved. Thank you!</h2>";
    nextBtn.style.display = "none";
  })
  .catch(() => {
    alert("âŒ Something went wrong. Please try again.");
  });
}
</script>

</body>
</html>
